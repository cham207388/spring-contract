group "default" {
    targets = ["consumer", "producer"]
}

target "consumer" {
    context = "./consumer"
    dockerfile = "consumer/Dockerfile"
    tags = ["baicham/spring-contract-producer:${IMAGE_TAG}"]
    platforms = ["linux/amd64", "linux/arm64"]
}

target "producer" {
    context = "./producer"
    dockerfile = "producer/Dockerfile"
    tags = ["baicham/spring-contract-producer:${IMAGE_TAG}"]
    platforms = ["linux/amd64", "linux/arm64"]
}